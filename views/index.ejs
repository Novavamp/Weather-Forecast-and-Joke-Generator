<%- include("partials/header.ejs") %>

    <div class="flex">
        <section class="container-1">
            <div>
                <div>
                    <p><svg xmlns="http://www.w3.org/2000/svg" height="26" fill="currentColor" class="bi bi-cloud-moon" viewBox="0 0 16 16">
                        <path d="M7 8a3.5 3.5 0 0 1 3.5 3.555.5.5 0 0 0 .625.492A1.503 1.503 0 0 1 13 13.5a1.5 1.5 0 0 1-1.5 1.5H3a2 2 0 1 1 .1-3.998.5.5 0 0 0 .509-.375A3.5 3.5 0 0 1 7 8m4.473 3a4.5 4.5 0 0 0-8.72-.99A3 3 0 0 0 3 16h8.5a2.5 2.5 0 0 0 0-5z"/>
                        <path d="M11.286 1.778a.5.5 0 0 0-.565-.755 4.595 4.595 0 0 0-3.18 5.003 5.5 5.5 0 0 1 1.055.209A3.6 3.6 0 0 1 9.83 2.617a4.593 4.593 0 0 0 4.31 5.744 3.58 3.58 0 0 1-2.241.634q.244.477.394 1a4.59 4.59 0 0 0 3.624-2.04.5.5 0 0 0-.565-.755 3.593 3.593 0 0 1-4.065-5.422z"/>
                      </svg> Start by inputing your city</p>
                </div>
            </div>
            <form class="weather-form" action="/current-weather" method="POST">
                <label for="city">City</label>
                <input name="city" id ="city" type="text" autocomplete="on" placeholder="Your city">
                <label for="country">Country (optional)</label>
                <select name="countrycode" id="country" onchange="updateHiddenInput()" autocomplete="on">
                    <!-- Items will be populated using javascript -->
                </select>
                <input type="hidden" id="countryName" name="countryName" value="">
                <input type="submit" value="SUBMIT">
            </form>
        </section>
        
        <section class="container-2">
            <% if (locals.city) { %>
         
                <div class="grid-container first">
                    <div class="response">
                        <div>
                            <img src="<%= icon %>" alt="">
                            <div class="bold"><%= temp %></div>
                            <div>Temperature</div>
                        </div>
                        <div>
                            <img src="<%= icon %>" alt="">
                            <div class="bold"><%= temp %></div>
                            <div>Feels Like</div>
                        </div>
                        <div>
                            <img src="./images/humidity.png" alt="">
                            <div class="bold"><%= humidity %></div>
                            <div>Humidity</div>
                        </div>
                        <div>
                            <img src="./images/wind.png" alt="">
                            <div class="bold"><%= windSpeed %></div>
                            <div>Windspeed</div>
                        </div>
                    </div>
                </div>
                <div class="grid-container">
                    <div class="response grid2">
                        <div>
                          <div class="bold"><%= city %></div>
                          <p>City</p>  
                        </div>
                        <div>
                            <div class="bold"><%= state %></div>
                            <p>State</p>
                        </div>
                        <div>
                            <div class="bold">
                                <% if (country === "Select") { %>
                                 <p>N/A</p>
                                <% } else { %>
                                <p><%= country %></p>
                               <% } %>
                            </div>
                            <p>Country</p>
                        </div>
                        <div>
                            <div class="bold"><%= description %></div> 
                            <p>Weather</p>
                        </div>                   
                    </div>
                    
                </div>
            <% } else { %>
                <script>
                    document.querySelector(".flex").classList.add("column");
                </script>
            <% } %>
            <% if (locals.error) { %>
                <div class="container-2 error"><%= error %></div>
            <% } %>
        </section>
        
    </div>
    <script src="index.js"></script>
<%- include("partials/footer.ejs") %>